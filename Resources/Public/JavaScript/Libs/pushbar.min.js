class Pushbar{constructor(a={overlay:!0,blur:!1}){if(this.activeBar=null,this.overlay=!1,a.overlay&&(this.overlay=document.createElement("div"),this.overlay.classList.add("pushbar_overlay"),document.querySelector("body").appendChild(this.overlay)),a.blur){const a=document.querySelector(".pushbar_main_content");a&&a.classList.add("pushbar_blur")}this.bindEvents()}get opened(){const{activeBar:a}=this;return!!(a instanceof HTMLElement&&a.classList.contains("opened"))}get activeBarId(){const{activeBar:a}=this;return a instanceof HTMLElement&&a.getAttribute("data-pushbar-id")}static dispatchOpen(a){const b=new CustomEvent("pushbar_opening",{bubbles:!0,detail:{pushbar:a}});a.dispatchEvent(b)}static dispatchClose(a){const b=new CustomEvent("pushbar_closing",{bubbles:!0,detail:{pushbar:a}});a.dispatchEvent(b)}static findElementById(a){return document.querySelector(`[data-pushbar-id="${a}"]`)}handleOpenEvent(a){a.preventDefault();const b=a.currentTarget.getAttribute("data-pushbar-target");b&&this.open(b)}handleCloseEvent(a){a.preventDefault(),this.close()}handleKeyEvent(a){this.opened&&27===a.keyCode&&this.close()}bindEvents(){const a=document.querySelectorAll("[data-pushbar-target]"),b=document.querySelectorAll("[data-pushbar-close]");a.forEach(a=>a.addEventListener("click",a=>this.handleOpenEvent(a),!1)),b.forEach(a=>a.addEventListener("click",a=>this.handleCloseEvent(a),!1)),this.overlay&&this.overlay.addEventListener("click",a=>this.handleCloseEvent(a),!1),document.addEventListener("keyup",a=>this.handleKeyEvent(a))}open(a){if(!(a+""===this.activeBarId&&this.opened)){const b=Pushbar.findElementById(a);if(b){this.opened&&this.close(),Pushbar.dispatchOpen(b),b.classList.add("opened");const c=document.querySelector("html");c.classList.add("pushbar_locked"),c.setAttribute("pushbar",a),this.activeBar=b}}}close(){const{activeBar:a}=this;if(a){Pushbar.dispatchClose(a),a.classList.remove("opened");const b=document.querySelector("html");b.classList.remove("pushbar_locked"),b.removeAttribute("pushbar"),this.activeBar=null}}}
//# sourceMappingURL=../sourcemaps/Libs/pushbar.min.js.map
