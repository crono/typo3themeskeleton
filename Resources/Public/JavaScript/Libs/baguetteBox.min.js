!function(a,b){"use strict";"function"==typeof define&&define.amd?define(b):"object"==typeof exports?module.exports=b():a.baguetteBox=b()}(this,function(){"use strict";function aa(a,b){var c=document.querySelectorAll(a),d={galleries:[],nodeList:c};ka[a]=d,[].forEach.call(c,function(a){b&&b.filter&&(ja=b.filter);var c=[];if(c="A"===a.tagName?[a]:a.getElementsByTagName("a"),0!==(c=[].filter.call(c,function(a){if(-1===a.className.indexOf(b&&b.ignoreClass))return ja.test(a.href)})).length){var e=[];[].forEach.call(c,function(a,c){var d=function(a){a.preventDefault?a.preventDefault():a.returnValue=!1,l(e,b),r(c)};y(a,"click",d),e.push({eventHandler:d,imageElement:a})}),d.galleries.push(e)}})}function t(){for(var a in ka)ka.hasOwnProperty(a)&&ba(a)}function ba(a){if(ka.hasOwnProperty(a)){var b=ka[a].galleries;[].forEach.call(b,function(a){[].forEach.call(a,function(a){x(a.imageElement,"click",a.eventHandler)}),j===a&&(j=[])}),delete ka[a]}}function n(){return(E=C("baguetteBox-overlay"))?(T=C("baguetteBox-slider"),ca=C("previous-button"),da=C("next-button"),void(ea=C("close-button"))):void((E=B("div")).setAttribute("role","dialog"),E.id="baguetteBox-overlay",document.getElementsByTagName("body")[0].appendChild(E),(T=B("div")).id="baguetteBox-slider",E.appendChild(T),(ca=B("button")).setAttribute("type","button"),ca.id="previous-button",ca.setAttribute("aria-label","Previous"),ca.innerHTML=q.svg?fa:"&lt;",E.appendChild(ca),(da=B("button")).setAttribute("type","button"),da.id="next-button",da.setAttribute("aria-label","Next"),da.innerHTML=q.svg?F:"&gt;",E.appendChild(da),(ea=B("button")).setAttribute("type","button"),ea.id="close-button",ea.setAttribute("aria-label","Close"),ea.innerHTML=q.svg?H:"&times;",E.appendChild(ea),ca.className=da.className=ea.className="baguetteBox-button",i())}function e(a){switch(a.keyCode){case 37:p();break;case 39:b();break;case 27:f();}}function i(){y(E,"click",ma),y(ca,"click",W),y(da,"click",G),y(ea,"click",J),y(T,"contextmenu",$),y(E,"touchstart",K),y(E,"touchmove",Q),y(E,"touchend",Z),y(document,"focus",_,!0)}function a(){x(E,"click",ma),x(ca,"click",W),x(da,"click",G),x(ea,"click",J),x(T,"contextmenu",$),x(E,"touchstart",K),x(E,"touchmove",Q),x(E,"touchend",Z),x(document,"focus",_,!0)}function l(b,c){if(j!==b){for(j=b,o(c);T.firstChild;)T.removeChild(T.firstChild);la.length=0;for(var d,e=[],f=[],g=0;g<b.length;g++)(d=B("div")).className="full-image",d.id="baguette-img-"+g,la.push(d),e.push("baguetteBox-figure-"+g),f.push("baguetteBox-figcaption-"+g),T.appendChild(la[g]);E.setAttribute("aria-labelledby",e.join(" ")),E.setAttribute("aria-describedby",f.join(" "))}}function o(a){for(var b in a||(a={}),Y)I[b]=Y[b],"undefined"!=typeof a[b]&&(I[b]=a[b]);T.style.transition=T.style.webkitTransition="fadeIn"===I.animation?"opacity .4s ease":"slideIn"===I.animation?"":"none","auto"===I.buttons&&("ontouchstart"in window||1===j.length)&&(I.buttons=!1),ca.style.display=da.style.display=I.buttons?"":"none";try{E.style.backgroundColor=I.overlayBackgroundColor}catch(a){}}function r(a){I.noScrollbars&&(document.documentElement.style.overflowY="hidden",document.body.style.overflowY="scroll"),"block"!==E.style.display&&(y(document,"keydown",e),ha={count:0,startX:null,startY:null},g(ga=a,function(){w(ga),k(ga)}),h(),E.style.display="block",I.fullScreen&&c(),setTimeout(function(){E.className="visible",I.bodyClass&&document.body.classList&&document.body.classList.add(I.bodyClass),I.afterShow&&I.afterShow()},50),I.onChange&&I.onChange(ga,la.length),V=document.activeElement,s())}function s(){I.buttons?ca.focus():ea.focus()}function c(){E.requestFullscreen?E.requestFullscreen():E.webkitRequestFullscreen?E.webkitRequestFullscreen():E.mozRequestFullScreen&&E.mozRequestFullScreen()}function d(){document.exitFullscreen?document.exitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen&&document.webkitExitFullscreen()}function f(){I.noScrollbars&&(document.documentElement.style.overflowY="auto",document.body.style.overflowY="auto"),"none"!==E.style.display&&(x(document,"keydown",e),E.className="",setTimeout(function(){E.style.display="none",d(),I.bodyClass&&document.body.classList&&document.body.classList.remove(I.bodyClass),I.afterHide&&I.afterHide(),V&&V.focus()},500))}function g(b,d){var e=la[b],f=j[b];if(void 0!==e&&void 0!==f)if(e.getElementsByTagName("img")[0])d&&d();else{var g=f.imageElement,h=g.getElementsByTagName("img")[0],a="function"==typeof I.captions?I.captions.call(j,g):g.getAttribute("data-caption")||g.title,i=m(g),k=B("figure");if(k.id="baguetteBox-figure-"+b,k.innerHTML="<div class=\"baguetteBox-spinner\"><div class=\"baguetteBox-double-bounce1\"></div><div class=\"baguetteBox-double-bounce2\"></div></div>",I.captions&&a){var l=B("figcaption");l.id="baguetteBox-figcaption-"+b,l.innerHTML=a,k.appendChild(l)}e.appendChild(k);var n=B("img");n.onload=function(){var a=document.querySelector("#baguette-img-"+b+" .baguetteBox-spinner");k.removeChild(a),!I.async&&d&&d()},n.setAttribute("src",i),n.alt=h?h.alt||"":"",I.titleTag&&a&&(n.title=a),k.appendChild(n),I.async&&d&&d()}}function m(b){var c=b.href;if(b.dataset){var d=[];for(var f in b.dataset)"at-"!==f.substring(0,3)||isNaN(f.substring(3))||(d[f.replace("at-","")]=b.dataset[f]);for(var g=Object.keys(d).sort(function(a,b){return parseInt(a,10)<parseInt(b,10)?-1:1}),h=window.innerWidth*window.devicePixelRatio,a=0;a<g.length-1&&g[a]<h;)a++;c=d[g[a]]||c}return c}function b(){var a;return ga<=la.length-2?(ga++,h(),w(ga),a=!0):I.animation&&(T.className="bounce-from-right",setTimeout(function(){T.className=""},400),a=!1),I.onChange&&I.onChange(ga,la.length),a}function p(){var a;return 1<=ga?(ga--,h(),k(ga),a=!0):I.animation&&(T.className="bounce-from-left",setTimeout(function(){T.className=""},400),a=!1),I.onChange&&I.onChange(ga,la.length),a}function h(){var a=100*-ga+"%";"fadeIn"===I.animation?(T.style.opacity=0,setTimeout(function(){q.transforms?T.style.transform=T.style.webkitTransform="translate3d("+a+",0,0)":T.style.left=a,T.style.opacity=1},400)):q.transforms?T.style.transform=T.style.webkitTransform="translate3d("+a+",0,0)":T.style.left=a}function u(){var a=B("div");return"undefined"!=typeof a.style.perspective||"undefined"!=typeof a.style.webkitPerspective}function v(){var a=B("div");return a.innerHTML="<svg/>","http://www.w3.org/2000/svg"===(a.firstChild&&a.firstChild.namespaceURI)}function w(a){a-ga>=I.preload||g(a+1,function(){w(a+1)})}function k(a){ga-a>=I.preload||g(a-1,function(){k(a-1)})}function y(a,b,c,d){a.addEventListener?a.addEventListener(b,c,d):a.attachEvent("on"+b,function(a){(a=a||window.event).target=a.target||a.srcElement,c(a)})}function x(a,b,c,d){a.removeEventListener?a.removeEventListener(b,c,d):a.detachEvent("on"+b,c)}function C(a){return document.getElementById(a)}function B(a){return document.createElement(a)}var E,T,ca,da,ea,fa="<svg width=\"44\" height=\"60\"><polyline points=\"30 10 10 30 30 50\" stroke=\"rgba(255,255,255,0.5)\" stroke-width=\"4\"stroke-linecap=\"butt\" fill=\"none\" stroke-linejoin=\"round\"/></svg>",F="<svg width=\"44\" height=\"60\"><polyline points=\"14 10 34 30 14 50\" stroke=\"rgba(255,255,255,0.5)\" stroke-width=\"4\"stroke-linecap=\"butt\" fill=\"none\" stroke-linejoin=\"round\"/></svg>",H="<svg width=\"30\" height=\"30\"><g stroke=\"rgb(160,160,160)\" stroke-width=\"4\"><line x1=\"5\" y1=\"5\" x2=\"25\" y2=\"25\"/><line x1=\"5\" y1=\"25\" x2=\"25\" y2=\"5\"/></g></svg>",I={},Y={captions:!0,buttons:"auto",fullScreen:!1,noScrollbars:!1,bodyClass:"baguetteBox-open",titleTag:!1,async:!1,preload:2,animation:"slideIn",afterShow:null,afterHide:null,onChange:null,overlayBackgroundColor:"rgba(0,0,0,.8)"},q={},j=[],ga=0,ha={},ia=!1,ja=/.+\.(gif|jpe?g|png|webp)/i,ka={},la=[],V=null,ma=function(a){-1!==a.target.id.indexOf("baguette-img")&&f()},W=function(a){a.stopPropagation?a.stopPropagation():a.cancelBubble=!0,p()},G=function(a){a.stopPropagation?a.stopPropagation():a.cancelBubble=!0,b()},J=function(a){a.stopPropagation?a.stopPropagation():a.cancelBubble=!0,f()},K=function(a){ha.count++,1<ha.count&&(ha.multitouch=!0),ha.startX=a.changedTouches[0].pageX,ha.startY=a.changedTouches[0].pageY},Q=function(a){if(!ia&&!ha.multitouch){a.preventDefault?a.preventDefault():a.returnValue=!1;var c=a.touches[0]||a.changedTouches[0];40<c.pageX-ha.startX?(ia=!0,p()):-40>c.pageX-ha.startX?(ia=!0,b()):100<ha.startY-c.pageY&&f()}},Z=function(){ha.count--,0>=ha.count&&(ha.multitouch=!1),ia=!1},$=function(){Z()},_=function(a){"block"===E.style.display&&E.contains&&!E.contains(a.target)&&(a.stopPropagation(),s())};return[].forEach||(Array.prototype.forEach=function(a,b){for(var c=0;c<this.length;c++)a.call(b,this[c],c,this)}),[].filter||(Array.prototype.filter=function(a,b,c,d,e){for(c=this,d=[],e=0;e<c.length;e++)a.call(b,c[e],e,c)&&d.push(c[e]);return d}),{run:function(a,b){q.transforms=u(),q.svg=v(),n(),ba(a),aa(a,b)},showNext:b,showPrevious:p,destroy:function(){a(),t(),x(document,"keydown",e),document.getElementsByTagName("body")[0].removeChild(document.getElementById("baguetteBox-overlay")),ka={},j=[],ga=0}}});for(var current,anchors=document.getElementsByClassName("lightboxing"),i=0;i<anchors.length;i++)current=anchors[i],current.addEventListener("click",function(a){a.preventDefault(),baguetteBox.run(".lightboxing",{fullScreen:!0,titleTag:!0,async:!0})},!1);document.getElementsByClassName("ce-uploads-imagegallery")&&baguetteBox.run(".ce-uploads-imagegallery",{fullScreen:!0,titleTag:!0,async:!0});